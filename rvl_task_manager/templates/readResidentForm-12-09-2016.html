<!DOCTYPE html>
<html>
<head>

<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link type="text/css" href="/static/css/bootstrap.css" rel="stylesheet"  />
<link type="text/css" href="/static/css/jquery.selectBoxIt.css" rel="stylesheet" />
<link type="text/css" href="/static/css/task.css" rel="stylesheet" />

<!-- Madura css -->
<link rel="stylesheet" href="/static/css/font-icons/entypo/css/entypo.css"  id="style-resource-2">
<link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Noto+Sans:400,700,400italic"  id="style-resource-3">
<link rel="stylesheet" href="/static/css/neon-core-min.css"  id="style-resource-5">
<link rel="stylesheet" href="/static/css/neon-theme-min.css"  id="style-resource-6">
<!--<link rel="stylesheet" href="/static/css/neon-form-min.css"  id="style-resource-7">-->
<link rel="stylesheet" href="/static/css/jalert.css">
<link rel="stylesheet" href="/static/css/form.css">
<link rel="stylesheet" href="/static/css/BVR_form.css">
<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">

<!-- Scripts -->
<script type="text/javascript" src="/static/js/1.9.1-jquery.min.js"></script><!-- Main Library js-->
<script type="text/javascript" src="/static/js/jquery-ui.min.js"></script><!-- Main Library js-->
<script type="text/javascript" src="/static/js/bootstrap.js"></script><!-- Bootstrap js-->
<script type="text/javascript" src="/static/js/jquery.selectBoxIt.js"></script>
<script type="text/javascript" src="/static/js/crossfilter.js"></script>
<script type="text/javascript" src="/static/form/masterData.js"></script> 
<script type="text/javascript" src="/static/form/masterDataLoad.js"></script>

</head>
<body >
	<!-- Top Bar -->
	<div class="navbar navbar-fixed-top">
		{% include "header1.html" %} 
	</div>
	
	
    	<div class="main">	
	    	<div class="task-div">
	    		<div class="main-task">		
					<div id="tabs">
			    		<ul id="form-tab">
			        		<li><a href="#pane1">Resident Verification Report</a></li>				    
							<li style="float:right;list-style-type:none;">
								<span class="document-toggle" style="float:right;display:inline-block;padding-bottom:10px;cursor:pointer;"><i class="entypo-attach"></i>Documents</span>
							</li>
							<li style="float:right;">
								<span class="comment-toggle" style="float:right;display:inline-block;padding-bottom:0px;cursor:pointer;"><i class="entypo-chat"></i> Comments</span>
							</li>
			    		</ul>
			    	</div>
				   	<div id="commentsModal" class="modal">
                        <div class="modal-content">
                            <span class="close">x</span>
                            <p> <strong><i class="entypo-chat">COMMENTS	</i></strong>
                            </p>
                            <div class="modal-body" id="commentsTab">
                            </div>
                        </div>
                    </div>
                    <div id="documentsModal" class="modal">
                        <div class="modal-content">
                            <span class="close">x</span>
                            <p> <strong><i class="entypo-attach">DOCUMENTS ATTACHED</i></strong>
                            </p>
                            <div class="modal-body" id="documentsTab">
                            </div>
                        </div>
                    </div>
					<div  class="right-pane-task" id="right-pane-task" style="padding:3px;margin-top: 0px;" >
						<div class="right-pane-task-detail detail-max" id="right-pane-task-detail" style="background-color: white;">
							<div class="Business-Verification-details" >
								<div class="tab-content span5"><!-- for tab -->
									<div id="pane2" class="tab-pane  active">
										<!--<h4>Basic Details</h4>-->
										<div width="100%">
											<div class="main-pane-info-outer">
											  	<div class="main-pane-info">
													<div class = "head-main-pane" style="background-color: #981B1B;color: whitesmoke;border-bottom: 1px solid whitesmoke;">
														 <div class="sub-header"  data-toggle="collapse" data-target="#basic_information" class="accordion-toggle">
														     <div colspan="4" style="font-weight:bold;"> Applicant's Information </div>
														 </div>
													</div><br>
													<div class = "body-main-pane" id="mmfl">
													  	<div  class="row-div-main-pane">
															<div class="colomn-div-bussiness" >
														 <label >Member ID			</label>
														 <font class="font_colon">:</font>
														 <font id="memberid" name="memberid"  placeholder="Member ID"></font>
													 </div>
													 <div class="colomn-div-bussiness" >
														 <label >Loan ID			</label>
														 <font class="font_colon">:</font>
														 <font id="loanid" name="loanid"  placeholder="Loan ID"></font>
													 </div>
													 <div class="colomn-div-bussiness" >
														 <label>Applicant Name			</label>
														 <font class="font_colon">:</font>
														 <font id="applicant_name" 	name="applicant_name"	    placeholder="Applicant Name "></font>
													 </div>
													 <div class="colomn-div-bussiness" >
														 <label>Resident Address			</label>
														 <font class="font_colon">:</font>
														 <div class="colomn-div" style="width:40%;padding-left:initial;"><font id="current_address" 	name="current_address"	    placeholder="RESIDENT ADDRESS"></font></div>
													 </div><br>
													 <div class="colomn-div-bussiness" >
														<label>	Living with	</label>	<font class="font_colon">:</font>
														<font id="live_with" 	name="live_with"	placeholder="Living with"></font>
													</div>
													<div class="colomn-div-bussiness" >
														<label>	Mobile Number		</label>	<font class="font_colon">:</font>
														<font id="mobile_number"  name="mobile_number"	 placeholder="Mobile Number"></font>
													</div>
													<div class="colomn-div-bussiness" >
														<label>	Number of Children	</label><font class="font_colon">:</font>
														<font id="no_of_children" name="no_of_children"	    placeholder="Number of Children"></font>
													</div>
										
													  <div class="colomn-div-bussiness">
													 	<label >Business Address 	</label>
														 <font class="font_colon">:</font>
														 <div class="colomn-div" style="width:40%;padding-left:initial;"><font 	id="business_address" 				name="business_address"  			></font></div>
													 </div><br><br>
										
													 <div class="colomn-div-bussiness">
														 <label>Office No				</label>
														 <font class="font_colon">:</font>
														 <font	id="biz_office_address_mobile_number"  		name="biz_office_address_mobile_number" 				placeholder="MOBILE NUMBER" /></font> 
													 </div>
													 <div class="colomn-div-bussiness" >
														 <label >Nature Of Business			</label>
														 <font class="font_colon">:</font>
														 <font 	id="biz_nature" 				name="biz_nature"    							placeholder="APPLICATION ID"></font>
													 </div>
													 <div class="colomn-div-bussiness">
														 <label >No of Years in Business			</label>
														 <font class="font_colon">:</font>
														 <font 	id="biz_no_of_yrs" 				name="biz_no_of_yrs" 							placeholder="MEMBER ID"></font>
													 </div>
													 <div class="colomn-div-bussiness">
														 <label >Location of Business			</label>
														 <font class="font_colon">:</font>
														 <font   id="biz_location" 				name="biz_location" 							placeholder="LOAN ID"></font>
													 </div>
													 <div class="colomn-div-bussiness">
														 <label >	Rent Paid Per Month		</label>
														 <font class="font_colon">:</font>
														 <font 	id="rent_pay_month" 				name="rent_pay_month"   						placeholder="DDMMYYYY"></font> 
													 </div>											  
														</div>
													</div>
												</div>
											</div>
											<div class="residence-details" >
												<div class="tab-content span5">
													<!-- for tab -->
													<div class="sub-header"  data-toggle="collapse" data-target="#mmfl-info" class="accordion-toggle">MMFL DETAILS	</div>
														<div class="row-div">
														    <div class="colomn-div"><label>	Applicant ID  		</label> <font>:</font> <font  type="text"  id="member_id"	name="member_id"   placeholder="APPLICANT ID">	</font>	<font class="mandatory">*</font> </div>
														  	<div class="colomn-div"><label>	Reference No.		</label> <font>:</font> <font  type="text"  id="loan_id"    	name="loan_id" 	   placeholder="REFERENCE NO">	</font> <font class="mandatory">*</font> </div>
														  	<div class="colomn-div"><label>	Date	     		</label> <font>:</font> <font  type="date"  id="date" 		name="date">					</font>	<font class="mandatory">*</font> </div>
														  	<div class="colomn-div"><label>	MMFL Branch Name 	</label> <font>:</font> <font  type="text"  id="branch_name" 	name="branch_name" placeholder="BRANCH NAME"/>	</font> <font class="mandatory">*</font> </div>
														</div>
														<div class="row-div">
														  	<div class="colomn-div"><label> User ID		 	</label> <font>:</font> <font  type="text"  id="user_id" 	name="user_id" 	   placeholder="USER ID">	</font>      <font class="mandatory">*</font> </div>
														</div>	<br>
													<div class="sub-header"  data-toggle="collapse" data-target="#contacted-person-info" class="accordion-toggle">CONTACTED PERSON DETAILS	</div>
														<div class="row-div">
														  	<div class="colomn-div"><label>	Name of the Person Contacted	</label> <font>:</font> <font type="text" 	id="name_of_the_person_spoken_to"  	name="name_of_the_person_spoken_to" 	  placeholder="CONTACTED PERSON NAME">		</font>	<font class="mandatory">*</font> </div>
														    <div class="colomn-div"><label>	Relationship with Applicant	</label> <font>:</font> <font type="text" 	id="relationship_to_the_owner"    	name="relationship_to_the_owner" 	  placeholder="RELATIONSHIP WITH APPLICANT">	</font>	<font class="mandatory">*</font> </div>
														 	<div class="colomn-div"><label>	Time In				</label> <font>:</font> <font type="time" 	id="time_in"    			name="time_in">									</font>	<font class="mandatory">*</font> </div>
														  	<div class="colomn-div"><label>	Time Out			</label> <font>:</font> <font type="time" 	id="time_out"    			name="time_out">									</font>	<font class="mandatory">*</font> </div>
														</div><br>
													<div class="sub-header"  data-toggle="collapse" data-target="#verification-info" class="accordion-toggle">VERIFICATION INFO</div>
														<div class='colomn-div'> <label>  Resident Address			</label> <font>:</font> <font type="text"	id="address" 				name="address" 				placeholder="RESIDENT ADDRESS" 	style="height:40px;width:40%">	</font> <font class="mandatory">*</font> </div><br>
														<div class="row-div">
															<div class="colomn-div" style="width:45%;"><label>  Confirmation from the Contacted Person that the Applicant stays in the above address   </label> <font>:</font> 
																<font 	id="addres_conformation" 	name="addres_conformation">	</font>   	<font class="mandatory">*</font>
														    </div>
														 	<div class="colomn-div" style="width:45%;"><label>  Address Proof Verified								    </label> <font>:</font> 
																<font 	id="addres_proof_shown" 	name="addres_proof_shown">	</font>		<font class="mandatory">*</font>	
														  	</div>
														</div>  <br>
					  								<div class="sub-header"  data-toggle="collapse" data-target="#residential-info" class="accordion-toggle">RESIDENTIAL INFORMATION</div>
														<div class="row-div">
														  	<div class="colomn-div"> <label>  Residence Ownership				</label> <font>:</font> <font 	type="text" 	id="residence_ownership" 	name="residence_ownership"	 placeholder="RESIDENCE OWNER NAME">		</font>	<font class="mandatory">*</font>  </div>
														 	<div class="colomn-div"> <label>  Years Stayed in the Address			</label> <font>:</font> <font 	type="text" 	id="years_in_the_address" 	name="years_in_the_address"  	 placeholder="YEARS STAYED IN THE ADDRESS">	</font>	<font class="mandatory">*</font>  </div>
														  	<div class="colomn-div"> <label>  Living with Family				</label> <font>:</font>   
															<font 	id="living_with_family"		name="living_with_family" >   	</font>		<font class="mandatory">*</font>
														</div>
													    <div class="row-div">
															<div class="colomn-div"> <label>  No. of People Living				</label> <font>:</font> <font 	type="text" 	id="number_of_people_living" 	name="number_of_people_living"  	placeholder="NO. OF PEOPLE LIVING">	</font> <font class="mandatory">*</font>  </div>
															<div class="colomn-div"> <label>  Approachability				</label> <font>:</font> <font 	type="text" 	id="approachability" 		name="approachability"  		placeholder="APPROACHABILITY">		</font> <font class="mandatory">*</font>  </div>
															<div class="colomn-div"> <label>  Type of House					</label> <font>:</font> <font 	type="text" 	id="type_of_house"		name="type_of_house" 			placeholder="TYPE OF HOUSE">		</font> <font class="mandatory">*</font>  </div>
															<div class="colomn-div"> <label>  No. of Rooms					</label> <font>:</font> <font	type="text" 	id="number_of_rooms" 		name="number_of_rooms" 	  		placeholder="NO. OF ROOMS">		</font> <font class="mandatory">*</font>  </div>
														</div>
														<div class="row-div">
															<div class="colomn-div"> <label>  Roofing					</label> <font>:</font> <font 	type="text"	id="roofing"	 		name="roofing"	 			placeholder="ROOFING">			</font> <font class="mandatory">*</font>  </div>
															<div class="colomn-div"> <label>  Interior Wall					</label> <font>:</font> <font 	type="text" 	id="interior_wall" 		name="interior_wall"	 		placeholder="INTERIOR WALL">		</font> <font class="mandatory">*</font>  </div>
															<div class="colomn-div"> <label>  Furnishing					</label> <font>:</font> <font 	type="text" 	id="furnishing" 		name="furnishing" 			placeholder="FURNISHING">		</font> <font class="mandatory">*</font>  </div>
															<div class="colomn-div"> <label>  Type of Flooring				</label> <font>:</font> <font 	type="text" 	id="type_of_flooring" 		name="type_of_flooring" 		placeholder="TYPE OF FLOORING">	</font> <font class="mandatory">*</font>  </div>
													    </div>
														<div class="row-div">
															<div class="colomn-div"> <label>  Vehicles Owned				</label> <font>:</font> 
													  			<font   id="vehicles_owned"	name="vehicles_owned">	</font>	<font class="mandatory">*</font>
															</div>
															<div class="colomn-div"> <label>  Household Items Visible			</label> <font>:</font>   <font	type="text" 	id="household_items_visible" 	 name="household_items_visible" 	placeholder="HOUSEHOLD ITEMS VISIBLE">	</font> <font class="mandatory">*</font>  </div>
															<div class="colomn-div"> <label>  Residence in Negative Area			</label> <font>:</font>   <font type="text" 	id="residence_in_negative_area"	 name="residence_in_negative_area" 	placeholder="RESIDENCE IN NEG AREA">	</font> <font class="mandatory">*</font>  </div>
														</div>
														<div class="row-div">
															<div class="colomn-div"> <label>  Area						</label> <font>:</font> <font 	type="text" 	id="area" 			 name="area" 				placeholder="AREA">			</font> <font class="mandatory">*</font>  </div>
															<div class="colomn-div"> <label>  Locality					</label> <font>:</font> <font 	type="text"	id="locality"	 		 name="locality"			placeholder="LOCALITY">			</font> <font class="mandatory">*</font>  </div>
															<div class="colomn-div"> <label>  Landmark					</label> <font>:</font> <font 	type="text" 	id="landmark"			 name="landmark" 			placeholder="LANDMARK">			</font> <font class="mandatory">*</font>  </div>
														</div></br>
													 <div class="sub-header"  data-toggle="collapse" data-target="#neighbour-verification" class="accordion-toggle"> NEIGHBOUR VERIFICATION </div>
														  <div class="sub-sub-header"  data-toggle="collapse" data-target="#neighbour-verification" class="accordion-toggle" align="center"> <strong> CHECK 1</strong></div>
														  	  <div class="row-div">
																  <div class="colomn-div">  <label>  Name						</label> <font>:</font> <font 	type="text" 	id="name_1" 			 name="name_1" 				placeholder="NAME">			</font> <font class="mandatory">*</font>  </div>
																  <div class="colomn-div">  <label>  Address					</label> <font>:</font> <font 	type="text"	id="address_1" 			 name="address_1" 			placeholder="ADDRESS">			</font> <font class="mandatory">*</font>  </div>
																  <div class="colomn-div">  <label>  Phone Number 				</label> <font>:</font> <font 	type="text"	id="phone_number_1" 		 name="phone_number_1" 			placeholder="PHONE NO">			</font> <font class="mandatory">*</font>  </div>
														  	  </div>
														  <div class="row-div">
															  <div class="colomn-div">  <label>  Known Each Other				</label> <font>:</font> <font 	type="text" 	id="known_each_other_1"		 	name="known_each_other_1" 			placeholder="KNOWN EACH OTHER">		</font> <font class="mandatory">*</font>  </div>
																  <div class="colomn-div">  <label>  Behaviour of the Customer			</label> <font>:</font> <font   type="text" 	id="behaviour_of_the_customer_1" 	name="behaviour_of_the_customer_1" 		placeholder="BEHAVIOUR OF CUSTOMER">		</font> <font class="mandatory">*</font>  </div>
																  <div class="colomn-div">  <label>  Financial Status of the Customer		</label> <font>:</font> <font   type="text" 	id="financial_status_of_the_customer_1" name="financial_status_of_the_customer_1" 	placeholder="FINANCIAL STATUS OF CUSTOMER">	</font> <font class="mandatory">*</font>  </div>
																  <div class="colomn-div">  <label>  Any Other Information			</label> <font>:</font> <font 	type="text"     id="any_other_information_1" 		name="any_other_information_1" 			placeholder="ANY OTHER INFORMATION">		</font> <font class="mandatory">*</font>  </div>
														  	  </div>   <br>
					   								<div class="sub-sub-header"  data-toggle="collapse" data-target="#neighbour-verification" class="accordion-toggle" align="center"><strong> CHECK 2</strong></div>
														<div class="row-div">
															<div class="colomn-div">  <label>  Name						</label> <font>:</font> <font 	type="text" 	id="name_2" 			name="name_2" 				placeholder="NAME">			</font> <font class="mandatory">*</font>  </div>
															<div class="colomn-div">  <label>  Address					</label> <font>:</font> <font   type="text" 	id="address_2" 			name="address_2" 			placeholder="ADDRESS">			</font> <font class="mandatory">*</font>  </div>
															<div class="colomn-div">  <label>  Phone Number					</label> <font>:</font> <font  type="text" 	id="phone_number_2" 		name="phone_number_2" 			placeholder="PHONE NO">			</font> <font class="mandatory">*</font>  </div>
														</div>
														<div class="row-div">
															<div class="colomn-div">  <label>  Known Each Other				</label> <font>:</font> <font 	type="text" 	id="known_each_other_2" 		name="known_each_other_2"	 		placeholder="KNOWN EACH OTHER">			</font> <font class="mandatory">*</font>  </div>
															<div class="colomn-div">  <label>  Behaviour of the Customer			</label> <font>:</font> <font 	type="text" 	id="behaviour_of_the_customer_2" 	name="behaviour_of_the_customer_2" 		placeholder="BEHAVIOUR OF CUSTOMER">		</font> <font class="mandatory">*</font>  </div>
															<div class="colomn-div">  <label>  Financial Status of the Customer		</label> <font>:</font> <font 	type="text" 	id="financial_status_of_the_customer_2" name="financial_status_of_the_customer_2" 	placeholder="FINANCIAL STATUS OF CUSTOMER">	</font> <font class="mandatory">*</font>  </div>
															<div class="colomn-div">  <label>  Any Other Information			</label> <font>:</font> <font 	type="text" 	id="any_other_information_2" 		name="any_other_information_2" 			placeholder="ANY OTHER INFORMATION">		</font> <font class="mandatory">*</font>  </div>
														</div></br>
					      							<div class="sub-header"  data-toggle="collapse" data-target="#neighbour-verification" class="accordion-toggle"> STATUS AND REMARKS</div>
														<div class="row-div">
															<div class="colomn-div">  <label>  Status of Residence Check				</label> <font>:</font> <font 	type="text" 	id="status_of_residence_check" 		name="status_of_residence_check" 		placeholder="STATUS OF RESIDENCE CHECK">	</font> <font class="mandatory">*</font>  </div>
															<div class="colomn-div">  <label>  Status of Neighbour Check				</label> <font>:</font> <font 	type="text" 	id="status_of_neighbor_check" 		name="status_of_neighbor_check"  		placeholder="STATUS OF NEIGHBOUR CHECK">	</font> <font class="mandatory">*</font>  </div>
															<div class="colomn-div">  <label>  OverAll Status 					</label> <font>:</font> 		<font  id="overall_status" name="overall_status">  </font>	<font class="mandatory">*</font>
														</div>
														<div class="colomn-div">  <label>  Remarks if any					</label> <font>:</font>  <font 	type="text"	id="remarks_if_any" 			name="remarks_if_any"  				placeholder="REMARKS IF ANY">			</font> <font class="mandatory">*</font>  </div>
														<div class="row-div">
														  	<div class="colomn-div">  <label>  Finance Executive Details				</label> <font>:</font>  <font 	type="text" 	id="fi_executive_details" 		name="fi_executive_details" 			placeholder="FINANCE EXECUTIVE DETAILS">	</font> <font class="mandatory">*</font>  </div>
														  	<div class="colomn-div">  <label>  Finance Executive Name				</label> <font>:</font>  <font 	type="text" 	id="name" 				name="name" 					placeholder="FINANCE EXECUTIVE NAME">		</font> <font class="mandatory">*</font>  </div>
														  	<div class="colomn-div">  <label>  Time of Visit					</label> <font>:</font>  <font	type="time" 	id="time_of_visit" 			name="time_of_visit">										</font> <font class="mandatory">*</font>  </div>
														</div></br>
														<div  class="colomn-div" style="width:40%;">
														    <label>	Residence Photo with atleast one Family member	</label>  <font>:</font> 
															<img    id="res-photo-pop" class="file_img" src="" />	
															<!--font  type="text" id="residence_photo_with_atleast_one_family_member"   	name="residence_photo_with_atleast_one_family_member"	 placeholder="RESIDENCE IMAGE " style="width:80%;"> </font><font class="mandatory">*</font-->
														</div><br>
													</div>
					    						</div>
				                            </div>
										</div>
									</div>
									<!--Tab pane 2-->						
								</div><!-- tab span 5 -->
					    	</div><!--Riight Tab Pane -->
						 </div>
					   </div>
					   <div class="right-pane-task-document-list comment-min" id="right-pane-task-document-list" style="width:20.5%;border: 1px solid #981b1b;overflow-Y:scroll;background-color: #f4f4f4;">	
							<div class="head" style="background-color: #981B1B;color: whitesmoke;border-bottom: 1px solid whitesmoke;" data-toggle="collapse" data-target="#comment-list-pane">
								<div class="sub-header" >
								  	<div colspan="4"><font style="font-size:15px;"> Documents Attached <i class="entypo-attach"></i></font></div>
								</div>
							</div>
							<div  class="document-list-pane" id="document-list-pane" style="background-color:#f4f4f4;"></div>
						</div>
						<div class="right-pane-task-comment-list comment-min" id="right-pane-task-comment-list" style="width:20.5%;overflow-Y:scroll;">	
							<div class="head" style="background-color: #981B1B;color: whitesmoke;border-bottom:1px solid whitesmoke;"  data-target="#comment-list-pane">
								<div class="sub-header" >
									<div colspan="4"><font style="font-size:15px;"> Comments <i class="entypo-chat"></i></font></div>
								</div>
							</div>
							<div id="comment-list-pane" class="comment-list-pane" ></div>
						</div>
						<div class="form-group text-center">
							<div class="">
								<div class="colomn-div-footer" id="colomn-div-footer" ><br>
									<textarea style="width:90%;height:20%;background-color:white;font-size: 11px;" id="comments"    placeholder="Comments"></textarea><font class="mandatory">*</font>
									<div style="padding-top:1%;">
										<a href="javascript:void(0)" onclick='window.location="/tasks/"' class="btn btn-red btn-icon icon-left" style="height:30px;padding-left:40px;margin-bottom: 5px;margin-top: 5px;">
										   <i class="icon-entypo-cancel" style="width:30px;height: 28px;color: white;padding:6px;"></i>
											Cancel
										</a>
										<a href="javascript:void(0)" onclick="submitProcessForm();"  class="btn btn-red btn-icon icon-left" style="height:30px;padding-left:40px;margin-bottom: 5px;margin-top: 5px;">
										   <i class="icon-entypo-forward" style="width:30px;height: 28px;color: white;padding:6px;"></i>
											Rework Completed
										</a>					
									</div>
								</div>
						   	</div>
						</div>
				   </div>
			   </div><div class="popup"></div>
		   </div>
	  	</div><!--main tab-->			
		{% include "footer.html" %} 
</body>
<script type="text/javascript">
	var data 		= '{{ memberDetails	| safe	   }}';
	var member_id		= "{{ memberId 		| escapejs }}";
	var loan_id		= "{{ loanId 		| escapejs }}";	
	var user_id		= "{{ user 			| escapejs }}";
	var task_id		= "{{ taskId 		| escapejs }}";
	var processid 		= "{{ processId		| safe	   }}";
	var alf_token	= "{{ alf_token		| escapejs }}";
	var allData = (JSON.parse(data));
	var json_data = allData;
	
	$(document).ready(function() {
		if($(window).width() >= 601){
			/*$('.comment-toggle').on('click', function () {
		   		 $('#right-pane-task-detail').toggleClass('detail-max detail-min');
				 $('#right-pane-task-comment-list').toggleClass('comment-min comment-max');
			});*/
			$('.comment-toggle').on('click', function () {
				//$('#right-pane-task-detail').toggleClass('detail-max detail-min');
				//$('#right-pane-task-comment-list').toggleClass('comment-min comment-max');
		
				var tastDetails = document.getElementById("right-pane-task-detail").className;
				var docDetails = document.getElementById("right-pane-task-document-list").className;
				var commDetails = document.getElementById("right-pane-task-comment-list").className;

				if(tastDetails == "right-pane-task-detail detail-max" 
					&& docDetails == "right-pane-task-document-list comment-min" 
					&& commDetails == "right-pane-task-comment-list comment-min"){
					document.getElementById("right-pane-task-detail").className = "right-pane-task-detail detail-min";
					document.getElementById("right-pane-task-comment-list").className = "right-pane-task-comment-list comment-max";
					document.getElementById("right-pane-task-document-list").className = "right-pane-task-document-list comment-min";
				}else if(tastDetails == "right-pane-task-detail detail-min" 
					&& docDetails == "right-pane-task-document-list comment-min" 
					&& commDetails == "right-pane-task-comment-list comment-max"){
					document.getElementById("right-pane-task-detail").className = "right-pane-task-detail detail-max";
					document.getElementById("right-pane-task-comment-list").className = "right-pane-task-comment-list comment-min";
					document.getElementById("right-pane-task-document-list").className = "right-pane-task-document-list comment-min";			
				}else{
					document.getElementById("right-pane-task-detail").className = "right-pane-task-detail detail-min";
					document.getElementById("right-pane-task-comment-list").className = "right-pane-task-comment-list comment-max";
					document.getElementById("right-pane-task-document-list").className = "right-pane-task-document-list comment-min";			
				}
			});
			$('.document-toggle').on('click', function () {
		   		 //$('#right-pane-task-detail').toggleClass('detail-max detail-min');
				 //$('#right-pane-task-document-list').toggleClass('comment-min comment-max');

				 var tastDetails = document.getElementById("right-pane-task-detail").className;
				 var docDetails = document.getElementById("right-pane-task-document-list").className;
	 			 var commDetails = document.getElementById("right-pane-task-comment-list").className;
				 if(tastDetails == "right-pane-task-detail detail-max"
					&& docDetails == "right-pane-task-document-list comment-min"
					&& commDetails == "right-pane-task-comment-list comment-min"){
					document.getElementById("right-pane-task-detail").className = "right-pane-task-detail detail-min";
					document.getElementById("right-pane-task-document-list").className = "right-pane-task-document-list comment-max";				
					document.getElementById("right-pane-task-comment-list").className = "right-pane-task-comment-list comment-min";
			
				 }else if(tastDetails == "right-pane-task-detail detail-min"
					&& docDetails == "right-pane-task-document-list comment-max"
					&& commDetails == "right-pane-task-comment-list comment-min"){
					document.getElementById("right-pane-task-detail").className = "right-pane-task-detail detail-max";
					document.getElementById("right-pane-task-comment-list").className = "right-pane-task-comment-list comment-min";
					document.getElementById("right-pane-task-document-list").className = "right-pane-task-document-list comment-min";			
				}else{
					document.getElementById("right-pane-task-detail").className = "right-pane-task-detail detail-min";
					document.getElementById("right-pane-task-comment-list").className = "right-pane-task-comment-list comment-min";
					document.getElementById("right-pane-task-document-list").className = "right-pane-task-document-list comment-max";
				}
			});
		}
		if ($(window).width() <= 600) {
            $('.comment-toggle').on('click', function() {
                $('#commentsModal').css('display', 'block');
            });
            $('.close').on('click', function() {
                $('#commentsModal').css('display', 'none');
            });

            commentsPopUp(json_data);

            $('.document-toggle').on('click', function() {
                $('#documentsModal').css('display', 'block');
            });
            $('.close').on('click', function() {
                $('#documentsModal').css('display', 'none');
            });
            window.onclick = function(event) {
                if (event.target == document.getElementById('documentsModal')) {
                    $('#documentsModal').css('display', 'none');
                }
                if (event.target == document.getElementById('commentsModal')) {
                    $('#commentsModal').css('display', 'none');
                }
            }
            documentsPopUp(json_data);

        }
		
		var screenHeight  = $(window).height();
		var screenwidth   = $(window).width();
		if(screenHeight){
			var height       =  screenHeight*(0.9);
			var slipHeight   =  height/3;
			$('body').height((height*(0.80)));
			$('.task-div').height((height*(0.80)));
			$('.main-task').height((height*(0.80)));
			$('#right-pane-task').height((height));
			$('#right-pane-task-detail').height((height*(0.85)));
			$('#right-pane-task-comment-list').height((height*(0.895)));
			$('#right-pane-task-document-list').height((height*(0.895)));
			document.getElementById('right-pane-task-detail').style.overflowY  =  'auto';
		}
		imagePopUp();
	});
	
	
	$(function() {
		$("#tabs").tabs();
	});
	
	
	function paintData(){
		arr = {};
		var dataName =  Object.keys(allData);
		for(var memberDataIndex in dataName){
			var dateNameObj = (dataName[memberDataIndex]);
			var obj 	= allData[dateNameObj][0];
			for(var key in obj){          																// Looping through the Json object        
				arr[key]=obj[key];
				if(document.getElementById("applicant_name") && obj["firstname"])
					document.getElementById("applicant_name").innerHTML = obj["firstname"]+" "+ obj["lastname"];
				if(key == "no_of_child_below17"){
				 	var no_of_children = parseInt(obj['no_of_child_below17'])+parseInt(obj['no_of_child_above17']);
				 	document.getElementById('no_of_children').innerHTML=no_of_children;
				}
				if(key == "current_door_no"){
				document.getElementById('current_address').innerHTML=obj['current_door_no']+' , '+obj['current_street_name']+' , '+obj['current_location_name'];
				document.getElementById('business_address').innerHTML=obj['biz_door_no']+' , '+obj['biz_street_name']+' , '+obj['biz_location_name']+' , '+obj['biz_pincode'];
				}
				if(key == "residence_photo_with_atleast_one_family_member"  && document.getElementById('res-photo-pop'))
					$('#res-photo-pop').attr("src",	obj[key]);	
				if(document.getElementById(key)){
					document.getElementById(key).innerHTML=obj[key];  									// Assigning the value to the element	
				}
				if(arr[key] != null && typeof(arr[key])==='object'){									// Checking whether the value of key is object  
					var obj1=arr[key];
					var keys=Object.keys(obj1);
					for(var i=0;i<keys.length;i++){														//Looping till the length of inner array of objects in JSON   
						var obj2=obj1[i];	
						for(var key1 in obj2){															// Looping through each and every array of object  
							if(document.getElementById(key1+"_"+(i+1)+"")){								// Checking whether the element exists in DOM 
								document.getElementById(key1+"_"+(i+1)+"").innerHTML  =  obj2[key1];	// Assigning the value to the element	
							}
							if(document.getElementById(key1)){											// Checking whether the element exists in DOM 
								document.getElementById(key1).innerHTML  =  obj2[key1];					// Assigning the value to the element	
							}
							
						}
					}
				}
			}
		}	
	
		var doc_array = {};
		var imgFiles = {
		    'member_bank_fk_alf_node_ref': "Bank Pass Book Image 1",
		    'member_bank_fk_alf_node_ref1': "Bank Pass Book Image 2",
		    'biz_id_alf_node_ref': "Business Identity Doc 1",
		    'biz_id_alf_node_ref1': "Business Identity Doc 2",
		    'current_address_fk_alf_node_ref': "Address Proof 2",
		    'current_document_url': "Address Proof 1"
		};
		var idProofArray = [];
		var alfNodeArray=[];
		var html = '<label class=doc-user" >No documents</label>';
		
		// document html content
		if(json_data.updocArray || json_data.mlcompositeArray){
			html='';  
			/*if(json_data.updocArray){
				if(json_data.updocArray[0]){
					for(var i=0 ; i<json_data.updocArray.length; i++){	
						var document_Name = json_data.updocArray[i].doc_status;
						var document_url = json_data.updocArray[i].doc_url;
						html +='<div id="document-pane" class="document-pane">'
							+'<div class="document-list-pane">'
							+'<label class="entypo-check" style="color:black;width:60%;padding-left:10%;font-weight:normal;">'+" "+document_Name+'</label>'
							+'<a href="'+document_url+'?alf_ticket='+alf_token+'" style="border:1px solid #ffffff;display: inline-block;" target="_blank" class="file_img"> <i class="fa fa-file" aria-hidden="true" style="color:#981b1b;font-size:20px;margin-left:50px;"></i></a>'
							+'</div><br>'
							+'</div>';
					}
				}
			}*/
			if (json_data.mlcompositeArray[0].documentsArray) {
			    if (json_data.mlcompositeArray[0].documentsArray){//json_data.documentsArray[0]) {
			        for (var i = 0; i < json_data.mlcompositeArray[0].documentsArray.length; i++) {
			            var document_Name = json_data.mlcompositeArray[0].documentsArray[i].doc_status;
			            var document_url = json_data.mlcompositeArray[0].documentsArray[i].doc_url;
			            html += '<div id="document-pane" class="document-pane">' + '<div class="document-list-pane">' + '<label class="entypo-check" style="color:black;width:60%;padding-left:10%;font-weight:normal;">' + " " + document_Name + '</label>' + '<a href="' + document_url + '?alf_ticket=' + alf_token + '" class="file_img"> <i class="fa fa-file" aria-hidden="true" style="color:#981b1b;font-size:20px;"></i></a>' + '</div>' + '</div>';
			        }
			    }
			}

			if (json_data.mlcompositeArray) {
			    if (json_data.mlcompositeArray[0]) {
			        var objData = json_data.mlcompositeArray[0];
			        var keys = Object.keys(json_data.mlcompositeArray[0]);
			        var imgFiles_keys = Object.keys(imgFiles);
			        for (var i = 0; i < keys.length; i++) {
			            for (var j = 0; j < imgFiles_keys.length; j++) {
			                if (keys[i] == imgFiles_keys[j])
			                    doc_array[imgFiles[imgFiles_keys[j]]] = json_data.mlcompositeArray[0][keys[i]];
			            }
						if(keys[i]=="alfNodeArray"){
							for(var k=0;k<json_data.mlcompositeArray[0]["alfNodeArray"].length;k++){
								if(json_data.mlcompositeArray[0]["alfNodeArray"][k]){
									var id_obj = {};
									id_obj["Shop Image "+(k+1)] =json_data.mlcompositeArray[0]["alfNodeArray"][k]['alf_node_ref'];
									alfNodeArray.push(id_obj);
									doc_array["alfNodeArray"] = alfNodeArray;
								}
							}
						}		
			            if (keys[i] == "idProofArray")
			                for (var k = 0; k < json_data.mlcompositeArray[0]["idProofArray"].length; k++) {
			                    if (json_data.mlcompositeArray[0]["idProofArray"][k]) {
			                        var id_obj = {};
			                        id_obj[masterIdProofArrayDic[json_data.mlcompositeArray[0]["idProofArray"][k]['fk_id_proof_type_id']] + ' ( I ) ' + ""] = json_data.mlcompositeArray[0]["idProofArray"][k]['alf_node_ref'];;
			                        id_obj[masterIdProofArrayDic[json_data.mlcompositeArray[0]["idProofArray"][k]['fk_id_proof_type_id']] + ' ( II ) ' + ""] = json_data.mlcompositeArray[0]["idProofArray"][k]['alf_node_ref1'];;
			                        idProofArray.push(id_obj);
			                        doc_array["idProofArray"] = idProofArray;
			                    }
			                }
			        }
			    }
			   for(var key in doc_array){
					if(key != 'idProofArray' && key != 'alfNodeArray')
						html +='<div id="document-pane" class="document-pane">'
							+'<div class="document_list_pane">'
							+'<label class="entypo-check" style="color:black;width:60%;padding-left:10%;font-weight:normal;">'+" "+key+'</label>'
							+'<a href="'+doc_array[key]+'?alf_ticket='+alf_token+'" class="file_img" target="_blank"><i class="fa fa-file" aria-hidden="true" style="color:#981b1b;font-size:20px;"></i></a>'
							+'</div>'
							+'</div>';	
				}
				if(doc_array['idProofArray']){
					for(var i=0;i<doc_array['idProofArray'].length;i++){
						var id_Arr = doc_array['idProofArray'][i];
						for(var key in id_Arr)
							html +='<div id="document-pane" class="document-pane">'
							+'<div class="document-list-pane">'
							+'<label class="entypo-check" style="color:black;width:60%;padding-left:10%;font-weight:normal;">'+" "+capitalise(key)+'</label>'
							+'<a href="'+id_Arr[key]+'?alf_ticket='+alf_token+'" class="file_img" target="_blank"><i class="fa fa-file" aria-hidden="true" style="color:#981b1b;font-size:20px;"></i></a>'
							+'</div>'
							+'</div>';	
					}
				}
				if(doc_array['alfNodeArray']){
					for(var i=0;i<doc_array['alfNodeArray'].length;i++){
						var id_Arr = doc_array['alfNodeArray'][i];
						for(var key in id_Arr)
							html +='<div id="document-pane" class="document-pane">'
							+'<div class="document-list-pane">'
							+'<label class="entypo-check" style="color:black;width:60%;padding-left:10%;font-weight:normal;">'+" "+key+'</label>'
							+'<a href="'+id_Arr[key]+'?alf_ticket='+alf_token+'" class="file_img" target="_blank"><i class="fa fa-file" aria-hidden="true" style="color:#981b1b;font-size:20px;"></i></a>'
							+'</div>'
							+'</div>';	
					}
				}
			}
		}
    document.getElementById('document-list-pane').innerHTML = html;

    function capitalise(string) {
        return string.charAt(0).toUpperCase() + string.slice(1).toLowerCase();
    }
	
		/*For Comments*/
		var html='<label class="comment-user" >No Comments</label>';
		if(allData.mlcompositeArray){
			var objData = allData.mlcompositeArray[0];
			if(objData['mlValidationArray'].length>0){
		    	html=''; 		
			    for(var i=0;i<objData['mlValidationArray'].length; i++){
			    	var usernme = objData['mlValidationArray'][i]['validation_fk_last_modified_by'];
			    	var remarks = objData['mlValidationArray'][i]['remarks'];	
			    	var validation_last_modified_date = objData['mlValidationArray'][i]['validation_last_modified_date'];	
					html +='<div id="comment-pane" class="comment-pane">'
							+'<div class="comments-list-pane">'
							+'<label class="comment-user" ><i class="entypo-user"></i>'+usernme+'</label> <font class="comment-date"> '+validation_last_modified_date+' </font>'
							+'<div class="comment-comment">'+remarks+'</div>'
							+'</div>'
							+'</div>';	    
			    }	
			}
		}
		document.getElementById('comment-list-pane').innerHTML = html;
	}

	setTimeout(paintData, 500);
	function submitProcessForm(){
		var selectedBizVal = "";
		var selectedResiVal = "";
		var processupdate = {"variables": { "Resident_Verification_Status" : { "value" : "ReworkCompleted" } } };
				    
		var dataObj = {};
	
		var remarks = '';
		if(document.getElementById('comments')){
			 remarks = document.getElementById('comments').value;
		}
		if(remarks.length == 0){
		  	alert("Please input comments to proceed further...");
			return false;			
		}
		var d 		= new Date(); // for now
		var currentTime	= (d.getHours()+":"+d.getMinutes()).toString();
	
		var currentDateValue  = (new Date());
		currentDateValue = JSON.stringify(currentDateValue);
		currentDateValue = currentDateValue.replace(/"/g,'');	
		currentDateValue = currentDateValue.split('T')[0];

		var remarksData =    { 
			"validation_member_id" 		: parseInt(member_id),
			"validation_loan_id" 		: parseInt(loan_id),
			"validation_type" 		: parseInt(1),
			"validation_level"		: parseInt(1),
			"validation_status" 		: parseInt(3),
			"remarks" 			: remarks, 
			"process_id" 			: processid,
			"task_id" 			: task_id,
			"validation_fk_last_modified_by": user_id,
			"validation_last_modified_date"	: ""+currentDateValue +" at "+ currentTime+"",
			"validation_fk_sci_client_id"	: parseInt(1)
		     };
		     
		dataObj['memberid'] 	= member_id;
		dataObj['processid'] 	= processid;
		dataObj['taskremarks']  = remarksData;
		dataObj['loanid'] 	= loan_id;
		dataObj['taskid'] 	= task_id;
		dataObj['userid'] 	= user_id;
		dataObj['process'] 	= processupdate;
		dataObj['remarksData'] 	= remarksData;	

		urls = '/updateTask';
		var theImg = '<div class="loading"><img style="width:350px;height:250px;" src="/static/images/buffer-loading.gif">'
			+'<div style="padding-top:1%;" ><label style="padding-top:1%;">LOADING ...</label>'
			+'</div>'
			+'</div>';
		$(".popup").empty().append(theImg).fadeIn();	
		$.ajax({
			url: urls,
			type: 'post',
			dataType: 'json',
			success: function(data){
				if(data.message == "Successful"){
					$(".popup").fadeOut();
					window.location='/tasks/';
				}else{
					alert("Failed due to some Issue . Please try after sometime or contact your Administrator");
				}
			},
			data: JSON.stringify(dataObj)
		});
	}
</script>
</html>

